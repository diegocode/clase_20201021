<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>adquisici√≥n de datos</title>

<script>
	let max_ele = 60;
	let interval = 5;

	var datos_temp = [];
	var datos_hume = [];

	var valores_x = [];

	for(var t = 0; t <= max_ele; t += interval) {
		valores_x.push(t);
	}

	console.log(valores_x);

	function ajaxRequest()
	{
		try //no es IE
		{
			var request = new XMLHttpRequest();
		}
		catch (e1)
		{
			try // IE 6+?
			{
				request = new ActiveXObject("Msxml2.XMLHTTP");
			}
			catch (e2)
			{
				try // IE 5?
				{
					request = new ActiveXObject("Microsoft.XMLHTTP");
				}
				catch (e3) // No soporta Ajax
				{
					request = false;
				}
			}
		}
		return request;
	}

	// --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- ---
	function consultar() {
		request = new ajaxRequest();
		request.open("GET", "ver", true);
		request.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
		request.setRequestHeader("Connection", "close");
		request.send();

		request.onreadystatechange = function () {
			if ((this.readyState == 4) && (this.status == 200)) // 4: completo 200: resultado ok
				if (this.responseText != null)	{
						mediciones = this.responseText;
						//console.log(mediciones);

						document.getElementById('val_temp').innerHTML = mediciones;

						setTimeout('consultar()', interval * 1000);

			} else {
			  alert("error accediendo a datos");
			}
		}
	}

</script>

</head>
	<body>
	<div id="val_temp">
	</div>
</body>
<script>

    consultar();

</script>

</html>

